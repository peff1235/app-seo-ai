# Smithery.ai configuration
startCommand:
  type: http
  port: 3000
  commandFunction: |-
    (config) => ({
      "command": "node",
      "args": [
        "src/index.js"
      ],
      "env": {
        "PORT": "3000",
        "HOST": "0.0.0.0",
        "NODE_ENV": "production",
        "GOOGLE_ADS_DEVELOPER_TOKEN": "${{ secrets.GOOGLE_ADS_DEVELOPER_TOKEN }}",
        "GOOGLE_ADS_CLIENT_ID": "${{ secrets.GOOGLE_ADS_CLIENT_ID }}",
        "GOOGLE_ADS_CLIENT_SECRET": "${{ secrets.GOOGLE_ADS_CLIENT_SECRET }}",
        "GOOGLE_ADS_REFRESH_TOKEN": "${{ secrets.GOOGLE_ADS_REFRESH_TOKEN }}",
        "GOOGLE_ADS_LOGIN_CUSTOMER_ID": "${{ secrets.GOOGLE_ADS_LOGIN_CUSTOMER_ID }}",
        "SERP_API_KEY": "${{ secrets.SERP_API_KEY }}"
      }
    })

http:
  port: 3000
  health:
    path: /health
    expectStatus: 200

tests:
  - name: health
    request:
      method: GET
      path: /health
    expect:
      status: 200
  - name: manifest
    request:
      method: GET
      path: /mcp.json
    expect:
      status: 200

# Build configuration
build:
  dockerfile: Dockerfile
  dockerBuildPath: .
